{% extends '@ConventionGeekMain/Structures/menu.html.twig' %}

{% block metaKeyword %}calendier, salon, jeux, vidéo, jeux vidéo, dates, convention, geek, otaku, japan, expo, France, free, manga, évenement{% endblock %}
{% block metaDescription %}Ce site web est un site communautaire qui a pour but de rassembler à la manière d'un calendrier tous les évènements Geek est Otaku en France.{% endblock %}
{% block metaTitle %}Convention Geek: Le calendrier des conventions Geek et Otaku{% endblock %}

{% block pageContent %}

<div class="mdc-layout-grid">
    <div class="mdc-layout-grid__inner mdc-elevation--z6">
        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">


            {% for post in pager.getResults() %}

                {% if date() >= date(post.publicationDateStart) %}
                    <div class="mdl-card mdl-cell mdl-cell--12-col mdl-shadow--6dp">
                        <div class="mdl-card__title">
                            <a href="{{ url('sonata_news_view', { 'permalink': sonata_news_permalink(post) }) }}"><h2 class="mdl-card__title-text">{{ post.title }}</h2></a>
                            <div class="mdl-layout-spacer"></div>

                            <p style="margin: auto;">Ecrit par {{ 'archive_author'|trans({'%author%': post.author }, 'SonataNewsBundle') }} le  {{ post.publicationDateStart | format_date }}</p>
                        </div>
                        <div class="mdl-card__supporting-text">
                            {{ post.abstract }}
                        </div>
                        <div class="mdl-layout-spacer"></div>
                        <div class="mdl-card__actions">
                            <a href="{{ url('sonata_news_view', { 'permalink': sonata_news_permalink(post) }) }}">Lire l'article</a>
                        </div>
                    </div>
                {% endif %}
            {% else %}
                {{ 'no_post_found'|trans({}, 'SonataNewsBundle') }}
            {% endfor %}


        </div>

        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">

            <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12" style="display: flex;">
                <div class="section-spacer" style="flex-grow: 1;"></div>

                <a href="{{ url(route, route_parameters|merge({'page': pager.previouspage})) }}">
                    <button class="mdc-button mdc-button--raised" {% if pager.page == pager.firstPage %}disabled{% endif %}>
                        {{ 'link_previous_page'|trans({}, 'SonataNewsBundle') }}
                    </button>
                </a>
                <span class="one-pc-spacer"></span>
                <a href="{{ url(route, route_parameters|merge({'page': pager.nextpage})) }}">
                    <button class="mdc-button mdc-button--raised" {% if pager.page == pager.lastPage %}disabled{% endif %}>
                        {{ 'link_next_page'|trans({}, 'SonataNewsBundle') }}
                    </button>
                </a>
            </div>



        </div>
    </div>
</div>

{% endblock %}
